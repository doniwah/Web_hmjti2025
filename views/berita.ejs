<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berita</title>
    <link href="berita.css" rel="stylesheet" type="text/css">

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
</head>

<body>
    <section class="maintitle">
        <div class="container h-100 d-flex flex-column mt-4">
            <div class="judul">
                <h1>ARTIKEL</h1>
            </div>
            <div class="barisabu"></div>
            <div class="barisbiru"></div>
        </div>
    </section>
    <section class="navbar" id="navbar">
        <div class="container h-100 justify-content-center mt-4">
            <nav class="navbar">
                <div class="container-fluid" id="pilihan">
                    <span class="navbar-brand mb-0" id="klik1">Semua</span>
                    <span class="navbar-brand mb-0" id="klik2">Seminar</span>
                    <span class="navbar-brand mb-0" id="klik3">Lomba</span>
                    <span class="navbar-brand mb-0" id="klik4">Beasiswa</span>
                </div>
            </nav>
        </div>
    </section>
    <section class="berita">
        <div class="container-fluid" id="con">
            <% for (const data of datas) {%>
                <div class="cardarea">
                    <div class="card align-items-center">
                        <div class="widget">
                            <ul>
                                <li>
                                    <span>
                                        <svg aria-hidden="true" class="e-font-icon-svg e-far-user-circle"
                                            viewBox="0 0 496 512">
                                            <path
                                                d="M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"
                                                fill="#0000FF"></path>
                                        </svg>
                                    </span>
                                    <span>
                                        <%= data.author %>
                                    </span>
                                </li>
                                <li>
                                    <span>
                                        <svg aria-hidden="true" class="e-font-icon-svg e-fas-calendar"
                                            viewBox="0 0 448 512" width="15px" height="15px">
                                            <path
                                                d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"
                                                fill="#0000FF"></path>
                                        </svg>
                                    </span>
                                    <span>
                                        <time>
                                            <%= formatDate(data.date) %>
                                        </time>
                                    </span>
                                </li>
                                <li>
                                    <span>
                                        <svg aria-hidden="true" class="e-font-icon-svg e-fas-tags"
                                            viewBox="0 0 640 512">
                                            <path
                                                d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"
                                                fill="#0000FF"></path>
                                        </svg>
                                    </span>
                                    <span>
                                        <%= data.nama_kategori %>
                                    </span>
                                </li>
                            </ul>
                        </div>
                        <div class="foto">
                            <img src="<%= data.base64Image %>" alt="fotoartikel">
                        </div>
                        <div class="description">
                            <h4>
                                <%= data.title %>
                            </h4>
                            <p>
                                <%= data.content %>
                            </p>
                        </div>
                    </div>
                </div>
                <%}%>
        </div>
    </section>
</body>

<script>
    //klik navbar
    document.addEventListener('DOMContentLoaded', () => {
        // Get all elements
        const nav = document.querySelectorAll('[id^="klik"]');
        const cardAreas = document.querySelectorAll('.cardarea');
        const color = '#0000FF';

        let activespan = null;

        nav.forEach(span => {
            span.addEventListener("click", function () {
                // Reset previous active state
                if (activespan && activespan !== this) {
                    activespan.style.color = "#000000";
                }

                // Set current span as active
                activespan = this;
                this.style.color = color;

                // Get selected category text
                const selectedCategory = this.textContent.trim();

                // Filter card areas
                cardAreas.forEach(card => {
                    const cardCategory = card.querySelector('.widget ul li:last-child span:last-child').textContent.trim();

                    if (selectedCategory === 'Semua' || cardCategory === selectedCategory) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });
    });

    // active nav
    const nav = document.querySelectorAll('[id^="klik"]');
    const color = '#0000FF';

    let activespan = null;
    nav.forEach(span => {
        span.addEventListener("click", function () {
            if (activespan && activespan !== this) {
                activespan.style.color = "#000000";
            }

            activespan = this;

            this.style.color = color;
        });
    })
</script>

</html>